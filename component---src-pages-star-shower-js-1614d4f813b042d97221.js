(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{212:function(t,r,e){"use strict";e.r(r);e(213),e(100),e(141);var i=e(0),n=e.n(i),o=e(204),c=function(t,r){return Math.floor(Math.random()*(r-t+1)+t)};var a=function(t){var r=this,e=t.ctx,i=t.x,n=t.y,o=t.radius,a=t.color,u=t.floorSize;this.draw=function(){var t=r.ctx,e=r.x,i=r.y,n=r.radius,o=r.color;t.save(),t.beginPath(),t.arc(e,i,n,0,2*Math.PI,!1),t.shadowColor=r.color,t.shadowBlur=5,t.fillStyle=o,t.fill(),t.closePath(),t.restore()},this.shatter=function(){var t=r.ctx,e=r.x,i=r.y,n=r.radius,o=r.floorSize;r.radius=n/2,Array.from(new Array(8)).forEach((function(){var c=new l({ctx:t,x:e,y:i,radius:n/4,floorSize:o});r.particles.push(c)}))},this.animate=function(){console.log(r.floorSize),r.y+r.radius+r.velocity.y>window.innerHeight-r.floorSize?(r.velocity.y=-r.velocity.y*r.friction,r.shatter()):r.velocity.y+=r.gravity,(r.x+r.radius+r.velocity.x>window.innerWidth||r.x-r.radius<=0)&&(r.velocity.x=-r.velocity.x),r.x+=r.velocity.x,r.y+=r.velocity.y,r.draw()},this.ctx=e,this.x=i,this.y=n,this.radius=o,this.color=a||"#e3eaef",this.floorSize=u,this.velocity={x:c(-5,5),y:c(5,10)},this.friction=.4,this.gravity=.3,this.particles=[]},l=function(t){var r,e;function i(r){var e;return(e=t.call(this,r)||this).draw=function(){var t=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e),r=t.ctx,i=t.x,n=t.y,o=t.radius,c=t.color;r.save(),r.beginPath(),r.arc(i,n,o,0,2*Math.PI,!1),r.fillStyle="rgba(227, 234, 239, "+e.opacity+")",r.shadowColor=c,r.shadowBlur=5,r.fill(),r.closePath(),r.restore()},e.animate=function(){e.y+e.radius+e.velocity.y>window.innerHeight-e.floorSize?(e.velocity.y=-e.velocity.y*e.friction,e.shatter()):e.velocity.y+=e.gravity,(e.x+e.radius+e.velocity.x>window.innerWidth||e.x-e.radius<=0)&&(e.velocity.x=-e.velocity.x),e.x+=e.velocity.x,e.y+=e.velocity.y,e.ttl-=1,e.opacity-=1/e.ttl,e.draw()},e.ttl=100,e.opacity=1,e.velocity={x:c(-10,10),y:c(-20,20)},e.draw(),e}return e=t,(r=i).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e,i}(a),u=a;e(216),r.default=function(){var t=Object(i.useRef)(null),r=Object(i.useRef)(null),e=Object(i.useRef)([]),a=Object(i.useRef)([]),l=Object(i.useRef)(0),h=function(){s()},s=function(){t.current.width=window.innerWidth,t.current.height=window.innerHeight},f=function(r,e,i,n){var o=t.current.width/e;Array.from(new Array(e)).forEach((function(e,c){r.beginPath(),r.moveTo(c*o,t.current.height),r.lineTo(c*o+o+325,t.current.height),r.lineTo(c*o+o/2,t.current.height-i),r.lineTo(c*o-325,t.current.height),r.fillStyle=n,r.fill(),r.closePath()}))},d=function(){var r=t.current.getContext("2d"),e=window.innerWidth,i=window.innerHeight,n=r.createLinearGradient(0,0,0,i);n.addColorStop(0,"#171e26"),n.addColorStop(1,"#3f586b"),r.fillStyle=n,r.fillRect(0,0,e,i),function(r){a.current.length||Array.from(new Array(150)).forEach((function(){var e=c(1,3),i=Math.random()*t.current.width,n=Math.random()*t.current.height;a.current.push(new u({ctx:r,x:i,y:n,radius:e}))})),a.current.forEach((function(t){return t.draw()}))}(r),f(r,1,t.current.height-100,"#384551"),f(r,2,t.current.height-300,"#2b3843"),f(r,3,t.current.height-500,"#26333e"),function(r){r.beginPath(),r.rect(0,t.current.height-150,t.current.width,150),r.fillStyle="#182028",r.fill(),r.closePath()}(r)},y=function(r){var e=Math.max(12,Math.random()*t.current.width-12);return new u({ctx:r,x:e,y:-100,radius:12,floorSize:150})};return Object(i.useEffect)((function(){return s(),window.addEventListener("resize",h),r.current=function i(n){d(),e.current.forEach((function(t,r){t.animate(),Math.floor(t.radius)<=0?e.current.splice(r,1):t.particles.forEach((function(r,e){r.animate(),r.ttl||t.particles.splice(e,1)}))})),l.current++;var o=l.current%n==0;o&&e.current.push(y(t.current.getContext("2d")));var a=o?c(100,200):n;r.current=requestAnimationFrame((function(){return i(a)}))}(75),function(){window.removeEventListener("resize",h),cancelAnimationFrame(r.current)}})),n.a.createElement(o.a,{title:"Star shower"},n.a.createElement("canvas",{ref:t}))}},213:function(t,r,e){var i=e(1);i(i.P,"Array",{fill:e(214)}),e(101)("fill")},214:function(t,r,e){"use strict";var i=e(20),n=e(142),o=e(19);t.exports=function(t){for(var r=i(this),e=o(r.length),c=arguments.length,a=n(c>1?arguments[1]:void 0,e),l=c>2?arguments[2]:void 0,u=void 0===l?e:n(l,e);u>a;)r[a++]=t;return r}}}]);
//# sourceMappingURL=component---src-pages-star-shower-js-1614d4f813b042d97221.js.map